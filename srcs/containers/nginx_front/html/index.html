<html>
<head>
    <title>Blossom game</title>
    <link rel="icon" type="png" href="https://static.vecteezy.com/system/resources/previews/018/872/002/non_2x/cherry-blossom-flower-icon-vector.jpg">
</head>
<body style="text-align:center;background-color:PapayaWhip">
    <h1>Welcome to our blossom game!</h1>
    <p>This is a temporary page while we work on the game.</p>
    <img src="https://media.tenor.com/net_ivlSaT4AAAAM/bow-bowing.gif" type="gif" alt="bowing gif">
    <p>thankyou for your patience :)</p>
    <form id="loginForm">
        <h2>Login</h2>
        <input type="text" id="username" placeholder="Username" required />
        <input type="password" id="password" placeholder="Password" required />
        <button type="submit">Login</button>
        <div class="message" id="message"></div>
    </form>
    <script>
    
    const form = document.getElementById('loginForm');
    const message = document.getElementById('message');

    form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;

    try {
        const res = await fetch('/api/auth/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ username, password })
        });

        const data = await res.json();

        if (res.ok) {
        message.style.color = 'green';
        message.textContent = data.message;
        } else {
        message.style.color = 'red';
        message.textContent = data.error || 'Login failed';
        }
    } catch (err) {
        message.style.color = 'red';
        message.textContent = 'Error connecting to server';
    }
    })

    </script>
    <!---
    <h1>Lista de Usuarios</h1>
    <ul id="user-list"></ul>

    <script>
    async function fetchUsers() {
        try {
        // Llamamos a la API Gateway
        const response = await fetch('http://localhost:3000/api/users', {
            method: 'GET',
            headers: {
            'Content-Type': 'application/json'
            }
        });

        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }

        const users = await response.json();

        const ul = document.getElementById('user-list');
        ul.innerHTML = ''; // limpiar lista

        users.forEach(user => {
            const li = document.createElement('li');
            li.textContent = `ID: ${user.id}, Nombre: ${user.username}`;
            ul.appendChild(li);
        });
        } catch (error) {
        console.error('Error fetching users:', error);
        const ul = document.getElementById('user-list');
        ul.innerHTML = '<li>Error cargando usuarios</li>';
        }
    }

    // Ejecutar al cargar la p√°gina
    fetchUsers();
    </script> -->

</body>
</html>
