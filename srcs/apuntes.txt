- en la api gateway, no puedo dar direcciones a una misma ruta, prq sino me da un error. se ve asi en los docker logs: 
	/app/node_modules/find-my-way/index.js:291
      throw new Error(`Method '${method}' already declared for route '${pattern}' with constraints '${JSON.stringify(constraints)}'`)
            ^

Error: Method 'POST' already declared for route '/api/auth/login' with constraints '{}'
    at Router._on (/app/node_modules/find-my-way/index.js:291:13)
    at Router.on (/app/node_modules/find-my-way/index.js:139:10)
    at Object.addNewRoute (/app/node_modules/fastify/lib/route.js:364:16)
    at Object.route (/app/node_modules/fastify/lib/route.js:255:23)
    at Object._route [as route] (/app/node_modules/fastify/fastify.js:286:27)
    at fastifyHttpProxy (/app/node_modules/@fastify/http-proxy/index.js:255:11)
    at Plugin.exec (/app/node_modules/avvio/lib/plugin.js:125:28)
    at Boot._loadPlugin (/app/node_modules/avvio/boot.js:432:10)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

Node.js v20.19.6
/app/node_modules/find-my-way/index.js:291
      throw new Error(`Method '${method}' already declared for route '${pattern}' with constraints '${JSON.stringify(constraints)}'`)
            ^

Error: Method 'POST' already declared for route '/api/auth/login' with constraints '{}'
    at Router._on (/app/node_modules/find-my-way/index.js:291:13)
    at Router.on (/app/node_modules/find-my-way/index.js:139:10)
    at Object.addNewRoute (/app/node_modules/fastify/lib/route.js:364:16)
    at Object.route (/app/node_modules/fastify/lib/route.js:255:23)
    at Object._route [as route] (/app/node_modules/fastify/fastify.js:286:27)
    at fastifyHttpProxy (/app/node_modules/@fastify/http-proxy/index.js:255:11)
    at Plugin.exec (/app/node_modules/avvio/lib/plugin.js:125:28)
    at Boot._loadPlugin (/app/node_modules/avvio/boot.js:432:10)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

Node.js v20.19.6
/app/node_modules/find-my-way/index.js:291
      throw new Error(`Method '${method}' already declared for route '${pattern}' with constraints '${JSON.stringify(constraints)}'`)
            ^

Error: Method 'POST' already declared for route '/api/auth/login' with constraints '{}'
    at Router._on (/app/node_modules/find-my-way/index.js:291:13)
    at Router.on (/app/node_modules/find-my-way/index.js:139:10)
    at Object.addNewRoute (/app/node_modules/fastify/lib/route.js:364:16)
    at Object.route (/app/node_modules/fastify/lib/route.js:255:23)
    at Object._route [as route] (/app/node_modules/fastify/fastify.js:286:27)
    at fastifyHttpProxy (/app/node_modules/@fastify/http-proxy/index.js:255:11)
    at Plugin.exec (/app/node_modules/avvio/lib/plugin.js:125:28)
    at Boot._loadPlugin (/app/node_modules/avvio/boot.js:432:10)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

Node.js v20.19.6
/app/node_modules/find-my-way/index.js:291
      throw new Error(`Method '${method}' already declared for route '${pattern}' with constraints '${JSON.stringify(constraints)}'`)
            ^

Error: Method 'POST' already declared for route '/api/auth/login' with constraints '{}'
    at Router._on (/app/node_modules/find-my-way/index.js:291:13)
    at Router.on (/app/node_modules/find-my-way/index.js:139:10)
    at Object.addNewRoute (/app/node_modules/fastify/lib/route.js:364:16)
    at Object.route (/app/node_modules/fastify/lib/route.js:255:23)
    at Object._route [as route] (/app/node_modules/fastify/fastify.js:286:27)
    at fastifyHttpProxy (/app/node_modules/@fastify/http-proxy/index.js:255:11)
    at Plugin.exec (/app/node_modules/avvio/lib/plugin.js:125:28)
    at Boot._loadPlugin (/app/node_modules/avvio/boot.js:432:10)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

Node.js v20.19.6
/app/node_modules/find-my-way/index.js:291
      throw new Error(`Method '${method}' already declared for route '${pattern}' with constraints '${JSON.stringify(constraints)}'`)
            ^

Error: Method 'POST' already declared for route '/api/auth/login' with constraints '{}'
    at Router._on (/app/node_modules/find-my-way/index.js:291:13)
    at Router.on (/app/node_modules/find-my-way/index.js:139:10)
    at Object.addNewRoute (/app/node_modules/fastify/lib/route.js:364:16)
    at Object.route (/app/node_modules/fastify/lib/route.js:255:23)
    at Object._route [as route] (/app/node_modules/fastify/fastify.js:286:27)
    at fastifyHttpProxy (/app/node_modules/@fastify/http-proxy/index.js:255:11)
    at Plugin.exec (/app/node_modules/avvio/lib/plugin.js:125:28)
    at Boot._loadPlugin (/app/node_modules/avvio/boot.js:432:10)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

Node.js v20.19.6
/app/node_modules/find-my-way/index.js:291
      throw new Error(`Method '${method}' already declared for route '${pattern}' with constraints '${JSON.stringify(constraints)}'`)
            ^

Error: Method 'POST' already declared for route '/api/auth/login' with constraints '{}'
    at Router._on (/app/node_modules/find-my-way/index.js:291:13)
    at Router.on (/app/node_modules/find-my-way/index.js:139:10)
    at Object.addNewRoute (/app/node_modules/fastify/lib/route.js:364:16)
    at Object.route (/app/node_modules/fastify/lib/route.js:255:23)
    at Object._route [as route] (/app/node_modules/fastify/fastify.js:286:27)
    at fastifyHttpProxy (/app/node_modules/@fastify/http-proxy/index.js:255:11)
    at Plugin.exec (/app/node_modules/avvio/lib/plugin.js:125:28)
    at Boot._loadPlugin (/app/node_modules/avvio/boot.js:432:10)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

Node.js v20.19.6
/app/node_modules/find-my-way/index.js:291
      throw new Error(`Method '${method}' already declared for route '${pattern}' with constraints '${JSON.stringify(constraints)}'`)
            ^

Error: Method 'POST' already declared for route '/api/auth/login' with constraints '{}'
    at Router._on (/app/node_modules/find-my-way/index.js:291:13)
    at Router.on (/app/node_modules/find-my-way/index.js:139:10)
    at Object.addNewRoute (/app/node_modules/fastify/lib/route.js:364:16)
    at Object.route (/app/node_modules/fastify/lib/route.js:255:23)
    at Object._route [as route] (/app/node_modules/fastify/fastify.js:286:27)
    at fastifyHttpProxy (/app/node_modules/@fastify/http-proxy/index.js:255:11)
    at Plugin.exec (/app/node_modules/avvio/lib/plugin.js:125:28)
    at Boot._loadPlugin (/app/node_modules/avvio/boot.js:432:10)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)

Node.js v20.19.6

- cuando en la configuracion de la api-gateway, en el index.js ponemos:
    app.listen({ port: 3000, host: "0.0.0.0" });
    estamos binding el puerto 3000 para que todos los contenedores de la red de docker puedan acceder a ese puerto. 
    Si pusieramos en host: localhost o 127.0.0.1, solo escuchariamos requests al puerto 3000 que vieneran del mismo contenedor de api-gateway. 
    Nginx-front es un contenedor remoto, pertenece a la docker network su IP no pertenece al contenedor de la api-gateway.
    Si quisieramos decir que solo a nginx-front en especifico le escuchamos en el puerto 3000, podriamos poner firewall rules: iptables rules inside container, o verificar headers como 'X-Forwarded-For' o TLS mutua. Chatgpt no lo recomienda. Dice que en mundo real:
    - services bind to 0.0.0.0
    - access is restricted by:
            > VPCs
            > security groups
            > firewalls
            > reverse proxies

